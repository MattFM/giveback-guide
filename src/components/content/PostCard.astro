---
import ResponsiveImage from '../ui/Image/ResponsiveImage.astro';
import BaseCard from '../ui/BaseCard.astro';

interface Props {
  post: {
    data: {
      properties: {
        bSlug: string;
        bCoverImage: string;
        bTags: string | string[];
        bTitle: string;
      };
    };
  };
}

const { post } = Astro.props;
---

<BaseCard>
  <div class="relative">
        <a href={`/blog/${post.data.properties.bSlug}/`}>
          <ResponsiveImage
            class="w-full rounded-lg h-64 mb-3 object-cover"
            src={post.data.properties.bCoverImage}
            alt=""
            preset="card"
            fallbackWidth={600}
            transitionName={`post-${post.data.properties.bSlug}`}
          />
        </a>
      </div>
  <div class="mb-2">
    {Array.isArray(post.data.properties.bTags)
      ? post.data.properties.bTags.map((tag: string) => (
          <span
            class="inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium border border-gray-300 text-gray-700 dark:border-gray-600 dark:text-gray-300 mr-1.5"
          >
            <a
              href={`/blog/${tag.toLowerCase().replace(/\s+/g, "-")}`}
            >
              {tag}
            </a>
          </span>
        ))
      : post.data.properties.bTags}
  </div>
  <h2 class="mb-2 text-2xl font-medium tracking-tight text-gray-900 dark:text-white">
    <a href={`/blog/${post.data.properties.bSlug}/`} style={`view-transition-name: post-title-${post.data.properties.bSlug}`}>
      {post.data.properties.bTitle}
    </a>
  </h2>
</BaseCard>